<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Money Emoji Gamble</title>
    <style>
        body { font-family: Arial, sans-serif; background: #b6f5c6; color: #1b3a1b; text-align: center; padding-top: 60px; }
        button { font-size: 1.2rem; padding: 12px 30px; border-radius: 8px; border: none; background: #4caf50; color: #fff; cursor: pointer; transition: background 0.2s; margin: 8px; box-shadow: 0 2px 8px #b2dfdb; }
        button:hover { background: #388e3c; }
        #result { margin-top: 30px; font-size: 3rem; min-height: 3.5rem; color: #388e3c; }
        #money-amount { font-size: 1.5rem; margin-top: 10px; color: #bfa100; }
        #balance { font-size: 1.3rem; margin-bottom: 20px; color: #2e7d32; font-weight: bold; }
        .tab { display: inline-block; margin: 0 10px; cursor: pointer; font-size: 1.1rem; color: #388e3c; border-bottom: 2px solid transparent; padding-bottom: 4px; font-weight: bold; }
        .tab.active { color: #bfa100; border-bottom: 2px solid #bfa100; }
        #minigame-btn { background: #ffe066; color: #388e3c; border-radius: 50%; width: 60px; height: 60px; font-size: 2rem; border: none; box-shadow: 0 2px 8px #b2dfdb; margin: 20px auto 0 auto; display: block; }
        #minigame-btn:hover { background: #bfa100; color: #fff; }
        #jobs-modal { display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(34, 49, 34, 0.7); z-index: 1000; }
        #jobs-content { background: #fff; color: #222; border-radius: 16px; max-width: 350px; margin: 80px auto; padding: 30px 20px; box-shadow: 0 4px 24px #b2dfdb; }
        .job-btn { display: flex; align-items: center; background: #e8f5e9; color: #388e3c; border: none; border-radius: 8px; padding: 12px 18px; margin: 12px 0; font-size: 1.1rem; cursor: pointer; transition: background 0.2s; width: 100%; text-align: left; }
        .job-btn:hover { background: #b6f5c6; color: #bfa100; }
        .job-emoji { font-size: 2rem; margin-right: 14px; }
        #close-jobs { margin-top: 18px; background: #4caf50; color: #fff; border: none; border-radius: 6px; padding: 8px 20px; font-size: 1rem; }
        #close-jobs:hover { background: #388e3c; }
        #job-result { color: #388e3c; font-weight: bold; margin-top: 10px; }
    </style>
</head>
<body>
    <div>
        <span class="tab active" id="gamble-tab" onclick="showTab('gamble')">Gamble</span>
        <span class="tab" id="minigame-tab" style="display:none;" onclick="showTab('minigame')"></span>
    </div>
    <div id="balance">Balance: <span id="balance-amount">200</span> üí∞</div>
    <div id="gamble">
        <h1>Money Emoji Gamble</h1>
        <button onclick="spin()">Spin (50 üí∏)</button>
        <div id="result"></div>
        <div id="money-amount"></div>
    </div>
    <button id="minigame-btn" onclick="openJobsModal()">üßë‚Äçüíº</button>
    <div id="jobs-modal">
        <div id="jobs-content">
            <h3>Choose a Job</h3>
            <div id="jobs-list"></div>
            <div id="job-result"></div>
            <button id="close-jobs" onclick="closeJobsModal()">Close</button>
        </div>
    </div>
    <div id="minigame" style="display:none;"></div>
    <script>
        let balance = 200;
        const costPerSpin = 50;
        const rewards = [
            { emoji: 'üí∏', amount: 0, chance: 0.40 },   // 0 money, 40%
            { emoji: 'üíµ', amount: 20, chance: 0.22 },  // 20 money, 22%
            { emoji: 'üí∂', amount: 50, chance: 0.13 },  // 50 money, 13%
            { emoji: 'üí∑', amount: 100, chance: 0.08 }, // 100 money, 8%
            { emoji: 'üí¥', amount: 200, chance: 0.06 }, // 200 money, 6%
            { emoji: 'ü™ô', amount: 300, chance: 0.045 }, // 300 money, 4.5%
            { emoji: 'üí∞', amount: 400, chance: 0.025 }, // 400 money, 2.5%
            { emoji: 'üíé', amount: 500, chance: 0.012 },// 500 money, 1.2%
            { emoji: 'üé∞', amount: 1000, chance: 0.004 },// Jackpot 1000, 0.4%
            { emoji: 'üëë', amount: 1500, chance: 0.001 } // Jackpot 1500, 0.1%
        ];

        const jobs = [
            { emoji: 'üçî', name: 'Fast Food Worker', reward: 10, desc: 'Serve burgers and fries.' },
            { emoji: 'üßπ', name: 'Janitor', reward: 12, desc: 'Keep places clean and tidy.' },
            { emoji: 'üíª', name: 'Programmer', reward: 30, desc: 'Write code and fix bugs.' },
            { emoji: 'üé®', name: 'Artist', reward: 20, desc: 'Create beautiful art.' },
            { emoji: 'üöö', name: 'Delivery Driver', reward: 15, desc: 'Deliver packages quickly.' },
            { emoji: 'üë©‚Äç‚öïÔ∏è', name: 'Nurse', reward: 25, desc: 'Help people stay healthy.' },
            { emoji: 'üßë‚Äçüè´', name: 'Teacher', reward: 18, desc: 'Teach students new things.' },
            { emoji: 'üõ†Ô∏è', name: 'Mechanic', reward: 22, desc: 'Fix cars and machines.' },
            { emoji: 'üßë‚Äçüç≥', name: 'Chef', reward: 24, desc: 'Cook delicious meals.' },
            { emoji: 'üßë‚Äçüî¨', name: 'Scientist', reward: 35, desc: 'Discover new things.' }
        ];

        let currentJob = null;

        function updateBalance() {
            document.getElementById('balance-amount').textContent = balance;
        }

        function spin() {
            if (balance < costPerSpin) {
                document.getElementById('result').textContent = '‚ùå';
                document.getElementById('money-amount').textContent = 'Not enough money!';
                return;
            }
            balance -= costPerSpin;
            updateBalance();
            let rand = Math.random();
            let sum = 0;
            for (let reward of rewards) {
                sum += reward.chance;
                if (rand < sum) {
                    balance += reward.amount;
                    updateBalance();
                    document.getElementById('result').textContent = reward.emoji;
                    document.getElementById('money-amount').textContent = `You won ${reward.amount} money!`;
                    return;
                }
            }
            // Fallback
            document.getElementById('result').textContent = '‚ùì';
            document.getElementById('money-amount').textContent = 'Unknown result';
        }

        function showTab(tab) {
            document.getElementById('gamble').style.display = tab === 'gamble' ? '' : 'none';
            document.getElementById('gamble-tab').classList.toggle('active', tab === 'gamble');
            document.getElementById('minigame').style.display = tab === 'minigame' ? '' : 'none';
            document.getElementById('minigame-tab').classList.toggle('active', tab === 'minigame');
            if(tab === 'minigame' && currentJob) {
                renderMinigame(currentJob);
            }
        }

        function openJobsModal() {
            const jobsList = document.getElementById('jobs-list');
            jobsList.innerHTML = '';
            jobs.forEach(job => {
                const btn = document.createElement('button');
                btn.className = 'job-btn';
                btn.innerHTML = `<span class="job-emoji">${job.emoji}</span> <span><b>${job.name}</b><br><small>${job.desc}</small></span>`;
                btn.onclick = function() { selectJob(job); };
                jobsList.appendChild(btn);
            });
            document.getElementById('job-result').textContent = '';
            document.getElementById('jobs-modal').style.display = 'block';
        }
        function closeJobsModal() {
            document.getElementById('jobs-modal').style.display = 'none';
        }
        function selectJob(job) {
            currentJob = job;
            document.getElementById('minigame-tab').textContent = job.emoji + ' ' + job.name;
            document.getElementById('minigame-tab').style.display = '';
            closeJobsModal();
            showTab('minigame');
        }
        function renderMinigame(job) {
            // Simple minigame: click a button to complete a task for the job
            document.getElementById('minigame').innerHTML = `
                <h2>${job.emoji} ${job.name} Minigame</h2>
                <p>${job.desc}</p>
                <button id="job-action-btn">Do your job!</button>
                <div id="minigame-result"></div>
            `;
            document.getElementById('job-action-btn').onclick = function() {
                // Earn money for the job
                balance += job.reward;
                updateBalance();
                document.getElementById('minigame-result').textContent = `You earned $${job.reward} as a ${job.name}!`;
            };
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            showTab('gamble');
            updateBalance();
            // Move minigame button to the right side
            document.getElementById('minigame-btn').style.position = 'fixed';
            document.getElementById('minigame-btn').style.top = '80px';
            document.getElementById('minigame-btn').style.right = '40px';
        });
    </script>
</body>
</html>
